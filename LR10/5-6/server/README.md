# Документация REST API для управления пользователями

## Базовый URL:
http://localhost:8080

---

## Эндпоинты

### 1. GET /users
**Описание**: Получение списка всех пользователей с возможностью пагинации и фильтрации.

**Параметры запроса**:
- name (строка): Фильтрация по имени пользователя.
- age (число): Фильтрация по возрасту пользователя.

**Query-параметры**:
- page (число): Номер страницы для пагинации (по умолчанию 1).
- limit (число): Количество пользователей на одной странице (по умолчанию 10).

**Ответ**:
- 200 OK: Возвращает список пользователей с поддержкой пагинации.

**Пример ответа**:
```json
[
  {
    "id": "6706f12bbf9a9e9d11f99908",
    "name": "крутой чел",
    "age": 21
  },
  {
    "id": "6706f17d2b717730602eb974",
    "name": "Шпаклёвочка",
    "age": 21
  },
]
```
---

### 2. GET /users/{id}
**Описание**: Получение информации о конкретном пользователе по его идентификатору (ID).

**Параметры пути**:
- id (строка): Идентификатор пользователя.

**Ответ**:
- 200 OK: Возвращает данные пользователя.

**Пример ответа**:
```json
{
  "id": "6706f17d2b717730602eb974",
  "name": "Шпаклёвочка",
  "age": 21
}
```
- 404 Not Found: Пользователь не найден.

---

### 3. POST /users
**Описание**: Добавление нового пользователя.

**Тело запроса**:
```json
{
  "name": "Крутой Чел",
  "age": 25
}
```
**Ответ**:
- 201 Created: Пользователь успешно создан.

**Пример ответа**:
```json
{
  "message": "Пользователь успешно создан.",
  "user": {
    "id": "6706fde7aa9ea610e0b62cad",
    "name": "JABA",
    "age": 20
  }
}
```
- 400 Bad Request: Ошибка валидации данных.

---

### 4. PUT /users/{id}
**Описание**: Обновление данных пользователя.

**Параметры пути**:
- id (строка): Идентификатор пользователя.

**Тело запроса**:
```json
{
  "name": "Крутой Чел",
  "age": 25
}
```
**Ответ**:
- 200 OK: Данные пользователя успешно обновлены.
- 400 Bad Request: Ошибка валидации данных.
- 404 Not Found: Пользователь с указанным ID не найден.

---

### 5. DELETE /users/{id}
**Описание**: Удаление пользователя.

**Параметры пути**:
- id (строка): Идентификатор пользователя.

**Ответ**:
- 200 OK: Пользователь успешно удален.
- 404 Not Found: Пользователь с указанным ID не найден.

---

## Обработка ошибок
API поддерживает централизованную обработку ошибок. При возникновении ошибки сервер вернет JSON-ответ с информацией об ошибке.

**Пример ответа при ошибке**:
```json
{
  "error": "User not found",
  "message": "Пользователь с указанным идентификатором не найден."
}
```
### Ошибки валидации
В случае ошибки валидации данных, возвращается код 400 и описание ошибки.

**Пример ответа**:
```json
{
  "error": "Validation failed",
  "message": "Некорректный ввод."
}
```
---

## Тестирование
Все маршруты имеют unit-тесты для проверки корректности обработки запросов и ошибок, включая валидацию данных, удаление и обновление пользователей.